<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>瀑布流demo</title>
</head>
<style>
*{
	margin: 0;
	padding: 0;
}
.wrap{
	position: relative;
}
.img{
	display: inline-block;
	width: 200px;
	margin: 10px 10px 0 0;
	transition:all 1s;
	position: absolute;
}
.img>img{
	width: 200px;
}
</style>
<body>
	<div class="wrap">
		<div class="img">
			<img src="./images/0.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/1.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/2.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/3.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/4.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/5.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/6.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/7.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/8.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/9.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/10.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/11.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/12.jpg" alt="">
		</div>
		<div class="img">
			<img src="./images/13.jpg" alt="">
		</div>
	</div>
</body>
<script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
waterfalls();
function waterfalls(){
		var $windowW=$(window).width(),
		$elW=$("img").outerWidth(),
		$lineNum=Math.floor($windowW/$elW),
		array=[];

	for(var i=0;i<$lineNum;i++){
		array.push(0);
	}
	
	$(".img").each(function(){
		// var $cur=$(this);
		var min=array[0],
			idx=0;
		for(var i=0;i<array.length;i++){
			if(min>array[i]){
			min=array[i];
			idx=i;
			}
		}
		$(this).css({
			top:min,
			left:idx*$elW
		});
		array[idx]=array[idx] + $(this).outerHeight();
	})
}
	
$(window).on("resize",function(){
	waterfalls();
})

</script>
</html>