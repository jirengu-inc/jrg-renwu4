<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>task 22-5</title>
	<style>
	    *{
	    	margin: 0;
	    	padding: 0;
	    }
		.clme {
			background: #fff;
			border: 1px solid #ccc;
			border-radius: 3px;
			height: 30px;
			width: 80px;
			margin-top: 20px;
			margin-left: 20px;
		}
		div.modal-c {
			display: none;
		}
		div.cover {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: #000;
			opacity: .3;
		}
        div.modal {
        	position: fixed;
        	left: 50%;
        	top: 50%;
        	transform: translate(-50%, -50%);
        	width: 400px;
        	margin: 0 auto;
        	background: #fff;
        	border: 1px solid #ccc;
        	border-radius: 3px;
        }
        .modal h3 {
        	border-bottom: 1px solid #ccc;
        	margin-top: 10px;
        	padding-left: 10px;
        	padding-bottom: 10px;
        	font-size: 18px;
        }
        .close {
        	position: absolute;
        	top:10px;
        	right: 10px;
        	background: #fff;
        	border:1px solid #fff;
        	font-size: 16px;
        }
        .modal p {
        	margin: 20px 0 20px 10px;
        }
        ul.btn {
        	position: relative;
        	left: 315px;
            width: 84px;
            margin-bottom: 20px;
        }
        ul.btn>li {
        	list-style: none;
        	display: inline-block;
        }
        .cancel,
        .confirm  {
        	background: #fff;
        	border:1px solid #fff;
        	font-size: 16px;

        }
	</style>
</head>
<body>
	<button class="clme">Click Me!</button>	

	<div class="modal-c">
		<div class="cover"></div>
		<div class="modal">
			<h3>我是标题1</h3>
			<button class="close">X</button>
			<p>我是内容1</p>
			<p>我是内容1</p>
			<ul class="btn">
				<li><button class="cancel">取消</button></li>
				<li><button class="confirm">确定</button></li>
			</ul>
		</div>
	</div>
	
	<script>
		var clme = document.querySelector(".clme"),
		    close = document.querySelector(".close"),
		    modalC = document.querySelector(".modal-c"),
		    modal = document.querySelector(".modal");

		clme.addEventListener("click",function(evt){
			evt.stopPropagation();
			showModal();
		});
		modal.addEventListener("click",function(evt){
            evt.stopPropagation();
            if( hasClass(evt.target,"close") || hasClass(evt.target,"cancel") ){  
            	//  ||按照条件写的顺序，直到一个为true则不再检查
            	hideModal();
            }
		});
		document.body.addEventListener('click', function(){
                hideModal();
        });


		function showModal(){
			modalC.style.display = "block";
		}
		function hideModal(){
			modalC.style.display = "none";
		}
		function hasClass(elm, cls){
            return !!elm.className.match(new RegExp('\\b'+cls+'\\b'));   //类型转换
        }


	</script>

</body>
</html>