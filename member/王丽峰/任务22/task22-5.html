<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>task22-5</title>
<meta name="description" content="">
<style>
	html,body{
		margin:0;
		padding:0;
	}
	#btn-modal{
		background: #fff;
		border:1px solid #ccc;
		border-radius:3px;
		height:30px;
		width:80px;
		margin-top:20px;
		margin-left:20px;
		padding-left:35px;
		padding-top:10px;
	}
	#modal{
		display: :none;
	}
	#modal .cover{
		position: fixed;
		top:0;
		left:0;
		right:0;
		bottom:0;
		background: #000;
		opacity: 0.3;
	}
	#modal .modal{
		position: fixed;
		left:50%;
		top:50%;
		transform: translate(-50%,-50%);
		width:400px;
		margin:0 auto;
		background:#fff;
		border:1px solid #ccc;
		border-radius:3px;
	}
	#modal h3{
		border-bottom: 1px solid #ccc;
		margin-top:10px;
		padding-left:10px;
		padding-bottom:10px;
		font-size: 18px;
	}
	#modal .close{
		position:absolute;
		top:10px;
		right:10px;
		background:#fff;
		border:1px solid #fff;
		font-size:16px;
	}
	#modal p {
        margin: 20px 0 20px 10px;
    }
    #modal  .btn-confirm,.btn-cancel{
    	text-decoration: none;
    	color:#333;
    	float:right;
    	margin:0 20px 20px 10px;
    }


</style>
</head>
<body>
	<div class="btn-group">
		<div id="btn-modal">点我</div>
	</div> 

	<div id="modal" class="dialog">
		<div class="cover"></div>
		<div class="modal">
			<h3>我是标题1</h3>
			<button class="close">X</button>
			<p>我是内容1</p>
			<p>我是内容2</p>
			<div class="btn">
				<a class="btn btn-confirm" href="#">确定</a>
				<a class="btn btn-cancel" href="#">取消</a>
			</div>
		</div>
	</div>

	<script>
		var btn=document.querySelector("#btn-modal"),
			close=document.querySelector(".close"),
			dialog=document.querySelector(".dialog"),
			modal=document.querySelector(".modal");

		btn.addEventListener("click",function(evt){
			evt.stopPropagation();
			showModal();
		});

		modal.addEventListener("click",function(evt){
            evt.stopPropagation();
            if( hasClass(evt.target,"close") || hasClass(evt.target,"cancel") ){  
            	hideModal();
            }
		});
		document.body.addEventListener('click', function(){
                hideModal();
        });


		function showModal(){
			dialog.style.display = "block";
		}
		function hideModal(){
			dialog.style.display = "none";
		}
		function hasClass(elm, cls){
            return !!elm.className.match(new RegExp('\\b'+cls+'\\b'));   //类型转换
        }

	</script>
</body>
</html>