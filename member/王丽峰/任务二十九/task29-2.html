<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>图片懒加载</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style>
	ul,li{
		list-style-type: none;
	}
	.container{
		width:1000px;
		margin:0 auto;
	}
	ul>li{
		float:left;
		margin:10px 10px;
	}
	.container li img{
		width:300px;
		height:450px;
	}
</style>
</head>
<body>
	<ul class="container">
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/1.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/2.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/3.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/1.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/2.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/3.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/1.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/2.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/3.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/1.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/2.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../task29/images/blank.jpg" data-src="../任务二十九/images/3.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/1.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/2.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/3.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/1.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/2.jpg" alt="">
			</a>
		</li>
		<li>
			<a href="#">
				<img src="../任务二十九/images/blank.jpg" data-src="../任务二十九/images/3.jpg" alt="">
			</a>
		</li>
	</ul>

    <script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
    <script>
    	var clock;
    	$(window).on('scroll',function(){
    		if(clock){
    			clearTimeout(clock);
    		}
    		clock=setTimeout(function(){
    			console.log(1);
    			displayImg();
    		},200);
    	});

        displayImg();

    	function displayImg(){
    		$('.container img').each(function(){
    			var $cur=$(this);
    			if($cur.attr('isLoaded')){
    				return;
    			}
    			if(isShow($cur)){
    				showImg($cur);
    			}
    		});
    	}

    	function isShow($ele){
    		var scrollH=$(window).scrollTop(),
    		    winH=$(window).height(),
    		    top=$ele.offset().top;
    		if(scrollH+winH>top){
    			return true;
    		}else{
    			return false;
    		}
    	}

    	function showImg($ele){
    		$ele.attr('src',$ele.attr('data-src'));
    		$ele.attr('isLoaded',true);
    	}
    </script>
</body>
</html>
