<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>判断一个元素是否出现在窗口可视范围,在元素第一次出现时在控制台打印 true，以后再次出现不做任何处理。</title>
	<style type="text/css">
		body{
			height: 1000px;
		}
		p{
			width: 800px;
			margin: 800px auto;
			text-align: center;
			font-size: 50px;
		}
		span{
			color: #ae81ff;
		}
	</style>
</head>
<body>
<p>虽出现多次，但只打印一次<span>true</span></p>

<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>

<script>

	// var $el = $('p');
	// $(window).on('scroll',function(){
	//     if($el.attr('show') ){	
	// 	    return
	// 	  }else if(isVisible()){
	// 	  	addAttr();
	// 	    console.log(true);
	// 	  }
	// });

	// function isVisible(){
	// 	var $elT = $el.offset().top,
	// 		$elH = $el.height(),
	// 	    $winH = $(window).height(),
	//         $winGo = $(window).scrollTop();
	// 		if($winGo + $winH > $elT && $elT + $elH > $winGo){
	// 			return true;
	// 		}else{
	// 			return false;
	// 		}
	// }
   
	// function addAttr(){
	// 	$el.attr('show',true);
	// }
var playGo = function(el){
	var $el = el;
	scroll();
    function scroll(){
		//var $el = $(this);
		$(window).on('scroll',function(){
		    if($el.attr('show') ){	
			    return
			  }else if(isVisible()){
			  	addAttr();
			    console.log(true);
			  }
		})
	}
	function isVisible(){
		var $elT = $el.offset().top,
			$elH = $el.height(),
		    $winH = $(window).height(),
	        $winGo = $(window).scrollTop();
			if($winGo + $winH > $elT && $elT + $elH > $winGo){
				return true;
			}else{
				return false;
			}
	}
	function addAttr(){
		$el.attr('show',true);
	}	
}
playGo($('p'));



</script>
</body>
</html>